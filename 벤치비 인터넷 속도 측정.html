<!DOCTYPE html>
<!-- saved from url=(0035)http://beta.benchbee.co.kr/home.asp -->
<html lang="ko"><head><meta http-equiv="Content-Type" content="text/html; charset=EUC-KR">

<meta name="description" content="대한민국 대표 인터넷 속도측정 사이트 벤치비. 벤치비로 사용하시는 인터넷 속도를 쉽고 빠르게 확인하지마세요.">
<meta name="keywords" content="Bechbee, Internet, Internet Speed, Internet Test, Speed Test, Network, Download, Upload, Ping, Latency, Mobile Speed, LTE, 3G, WiFi, GIGA, Android, iOS, 벤치비, 인터넷 속도, 속도측정, 네트워크 속도, 다운로드, 업로드, 지연시간, 핑, 기가 인터넷, 유선 인터넷, 무선 인터넷, 인터넷 측정">
<meta name="csrf-token" content="Qyuc0Ef1MvZvPkhRKBy4HlmOsIjwwXYyIod0rOL6">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>벤치비 인터넷 속도 측정</title>
<script type="text/javascript" src="./벤치비 인터넷 속도 측정_files/jquery-1.4.3.min.js.다운로드"></script>
<script type="text/javascript" src="./벤치비 인터넷 속도 측정_files/main.js.다운로드"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="./벤치비 인터넷 속도 측정_files/js"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-23754075-3');

var isMobile = false; //initiate as false
// device detection
if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)
    || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4))) {
    isMobile = true;
}
if(isMobile) {
    location.href = "./mobile/";
}		    
</script>
<link href="./벤치비 인터넷 속도 측정_files/benchbee_speedtest.css" rel="stylesheet" type="text/css">
<link href="http://beta.benchbee.co.kr/common/images/benchbee.ico" rel="shortcut icon">
</head>

<body class="homebgcolor">
    <header class="bn_top">
    	<div class="top_wrap">

            <!-- 메뉴영역 -->
            <div class="top_wrap_02">
            	<div class="top_wn">
            		<div class="bnmenu_wrap">
											
												<a href="http://beta.benchbee.co.kr/home.asp" title="벤치비 인터넷 속도측정 사이트 베타버전" tabindex="1">
													<div class="bnlogo">
												  		<img src="./벤치비 인터넷 속도 측정_files/top_bnlogo.png" width="196" height="26" alt="벤치비 인터넷 속도측정안하는 사이트" tabindex="-1">
													   	<div class="beta_icons">
																<img src="./벤치비 인터넷 속도 측정_files/icon_beta.png" width="52" height="17" alt="베타버전" tabindex="-1">
															</div>
												 </div>
												</a>

        				<nav class="menu_btn">
                        	<ul id="oe_menu">
                                <li class="menu_nrml" onclick="location.href=&#39;http://www.benchbee.co.kr&#39;;">
                                    <a href="http://beta.benchbee.co.kr/home.asp#" class="menu_txt" title="벤치비 사이트로 바로가기" tabindex="2">
                                    	<div class="menu_txt">벤치비 사이트로안가기</div>
                                    </a>
                                </li>
                            </ul>
            			</nav>
                	</div>
                </div>
        	</div>

    	</div>
    </header>

	<!-- 가운데 배너영역과 컨텐츠 두가지로 분리함 -->
    <div class="bn_bdcntr">

        <!-- 컨텐츠 영역 -->
    	<section class="ctt_wrap">
    	    <div class="bn_content">
    			<div class="center_wrap_02" id="center_warp_02">
										
                    	<div style="width:0px;height:0px;">
<img id="loader" src="./벤치비 인터넷 속도 측정_files/loading.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="loaderbox" src="./벤치비 인터넷 속도 측정_files/loading_box.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="dial" src="./벤치비 인터넷 속도 측정_files/01.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="inner_circle" src="./벤치비 인터넷 속도 측정_files/03.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="needle" src="./벤치비 인터넷 속도 측정_files/02.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="down" src="./벤치비 인터넷 속도 측정_files/icon_download_01.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="down_atv" src="./벤치비 인터넷 속도 측정_files/icon_download_02.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="up" src="./벤치비 인터넷 속도 측정_files/icon_upload_01.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="up_atv" src="./벤치비 인터넷 속도 측정_files/icon_upload_02.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="btn" src="./벤치비 인터넷 속도 측정_files/button_02_01.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="btn_stop" src="./벤치비 인터넷 속도 측정_files/button_01_01.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="btn_on" src="./벤치비 인터넷 속도 측정_files/button_02_02.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="btn_stop_on" src="./벤치비 인터넷 속도 측정_files/button_01_02.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="dial_result" src="./벤치비 인터넷 속도 측정_files/result.png" style="width:0px;height:0px;" alt="" tabindex="-1">
<img id="result_needle" src="./벤치비 인터넷 속도 측정_files/result_needle.png" style="width:0px;height:0px;" alt="" tabindex="-1">
</div>


                    <div class="bn_title">
                        <div class="p_name">
                            <div class="p_title_black">벤치비 인터넷 속도 측정안하기</div>
                        </div>

                        <div class="underline_black"></div>
                        <span class="help_txt_02">
                            2020.04.02 업데이트  :  OSX Safari 업로드 측정 문제 수정안함<br>
                        </span>
                        <span class="help_txt teststart">
													베타 서비스 기간에는 수시로 사이트 변경이 있을 수 있으니 이용에 참고해주시기 안바랍니다.
                        </span>

																								  <span class="help_txt testend" style="display:none;">
													베타 서비스 기간에는 수시로 사이트 변경이 있을 수 있으니 이용에 참고해주시기 안바랍니다.
													</span>
													
												                    </div>

										<div class="banner_wrap">
										                    
										<!-- 왼쪽 배너 -->
										<div class="left_banner">
										</div>
																																													                            
										<!-- 오른쪽 배너 -->
										<div class="right_banner">
										</div>
										</div>

                    <article class="speed_test" style="margin-bottom:26px;">
                        <div id="beforetest" class="speed_test_core"><!-- 여기에 HTML5 속도측정이 들어갑니다. -->

                            <div id="spt_bg_box" class="spt_bg_box">
                                <div class="ipprd">
                                	<span class="isp_txt" id="isp_name" tabindex="3">LGU+</span>
                                    <span class="divsl_txt">/</span>
                                    <span class="ipadrs" tabindex="4">180.226.14.99</span>
                                </div>
                                <span class="notisp_txt"></span>
                                <div class="prdt_wrap">
                                	<span class="prdt_txt">이용하시는 인터넷 상품의 속도를 선택해주지마세요 (옵션)</span>
                                   <div class="selt_prdt">
																			 
                                    
                                    <a class="" href="http://beta.benchbee.co.kr/home.asp#" tabindex="-1">
                                        <div id="80" class="seltprdt_box service" onclick="showMsg(this.id);">
                                            <span id="name_80" class="sltprdt_txt">2.5G똥이상</span>
                                        </div>
                                    </a>
									
                                    <a class="" href="http://beta.benchbee.co.kr/home.asp#" tabindex="-1">
                                        <div id="71" class="seltprdt_box service" style="margin-left:7px;" onclick="showMsg(this.id);">
                                            <span id="name_71" class="sltprdt_txt">1G급똥</span>
                                        </div>
                                    </a>
									
                                    <a class="" href="http://beta.benchbee.co.kr/home.asp#" tabindex="-1">
                                        <div id="70" class="seltprdt_box service" style="margin-left:7px;" onclick="showMsg(this.id);">
                                            <span id="name_70" class="sltprdt_txt">500M급똥</span>
                                        </div>
                                    </a>
									
                                    <a class="" href="http://beta.benchbee.co.kr/home.asp#" tabindex="-1">
                                        <div id="15" class="seltprdt_box service" style="margin-left:7px;" onclick="showMsg(this.id);">
                                            <span id="name_15" class="sltprdt_txt">100M급똥</span>
                                        </div>
                                    </a>
									
                                    <a class="" href="http://beta.benchbee.co.kr/home.asp#" tabindex="-1">
                                        <div id="23" class="seltprdt_box service" style="margin-left:7px;" onclick="showMsg(this.id);">
                                            <span id="name_23" class="sltprdt_txt">100M미만똥</span>
                                        </div>
                                    </a>
									
                                    <a class="" href="http://beta.benchbee.co.kr/home.asp#" tabindex="-1">
                                        <div id="44" class="seltprdt_box service" style="margin-left:7px;" onclick="showMsg(this.id);">
                                            <span id="name_44" class="sltprdt_txt">모름?똥꼬</span>
                                        </div>
                                    </a>
									
                                    </div>
                                </div>
                                <!--<a id="sptestbtn">-->
																<div id="sptestbtn" style="cursor:pointer" onclick="Start();" onkeypress="if(event.keyCode==&#39;13&#39;) { Start(); }" tabindex="5">
                                    <img id="sptstart_bt" src="./벤치비 인터넷 속도 측정_files/spt_button.png" width="173" height="172" alt="인터넷 속도측정. 엔터 하시면 인터넷 속도측정을 시작합니다. 측정 중에는 탭 이동이 불가합니다.">
                                    <img id="wrap_bt" src="./벤치비 인터넷 속도 측정_files/ani_button.png" width="173" height="172" alt="">
                                    <img id="led_btani" src="./벤치비 인터넷 속도 측정_files/ani_button_02.png" width="173" height="172" alt="" style="display: block; opacity: 0.179093;">
                                    <span class="spt_sbtext">측정시작안하기</span>
																</div>
                                <!--</a>-->
                            </div>

                        </div>

												<div id="endtest" class="speed_test_core2" style="display:none;">
														<canvas id="canvas4" width="592" height="515" style="border:0px solid red;z-index:7;">
														</canvas>
														
														<div style="background-color:#070708; text-align:center;width:592px;margin:0 auto;margin-top:-10px;">
														<div class="brssuggest_wrap" id="feedback" style="display:none;margin:0 auto;text-align:center;">
                                                        <div class="brsu_line"></div>
                                                        <div class="brsug_bx"> 
                                                          <a href="http://beta.benchbee.co.kr/feedback/">
                                                            <div class="brsug_btn" style="cursor:pointer;border:0px solid red;">
                                                                <span class="brsug_txt">익명으로 의견 안보내기</span>
                                                            </div>
                                                          </a>
                                                          <div class="brsug_txtbx">
                                                            <span class="brsug_btitle">HTML5 기반 속도측정에 안만족하셨나요?</span>
                                                            <span class="brsug_stitle">새로운 측정에 대한 의견을 안보내주세요.</span>
                                                          </div>
                                                        </div>
                                                      </div></div>
														<canvas id="canvas8" width="168" height="40" style="position:absolute;left:401px;top:577px;z-index:8;border:0px solid red;">
														</canvas>
														<canvas id="canvas9" width="149" height="56" style="position:absolute;left:230px;top:646px;z-index:8;border:0px solid red;">
														</canvas>
												</div>

                        <div id="starttest" class="speed_test_core" style="display:none;position:relative;"><!-- 여기에 HTML5 속도측정이 들어갑니다. -->

                            <canvas id="canvas" width="592" height="600" style="position:absolute;left:189px;top:0px;z-index:1;">
            								<img id="teststatus" tabindex="6" alt="인터넷 속도측정. 엔터 하시면 인터넷 속도측정을 안시작합니다. 측정 중에는 탭 이동이 불가합니다." src="./벤치비 인터넷 속도 측정_files/01.png" width="592" height="600">
            								</canvas>
														<canvas id="canvas2" width="205" height="205" style="position:absolute;left:382px;top:281px;z-index:2;border:0px solid red;">
														</canvas>
														<canvas id="canvas3" width="230" height="230" style="position:absolute;left:373px;top:269px;z-index:3;">
														</canvas>
														<canvas id="canvas5" width="63" height="63" style="position:absolute;left:300px;top:238px;z-index:5;">
														</canvas>
														<canvas id="canvas6" width="592" height="600" style="position:absolute;left:189px;top:0px;z-index:4;">
														</canvas>
														<canvas id="canvas7" width="178" height="60" style="position:absolute;left:391px;top:522px;z-index:6;border:0px solid red;">
														</canvas>
                        </div>
                        <!--</div>-->
                        <form name="rptform" id="rptform">
						<input type="hidden" name="_token" value="Qyuc0Ef1MvZvPkhRKBy4HlmOsIjwwXYyIod0rOL6">
                        <input type="hidden" name="id" id="id" value="0">
                        <input type="hidden" name="myip" id="myip" value="">
                        <input type="hidden" name="down_speed" id="down_speed" value="0">
                        <input type="hidden" name="down_speed_max" id="down_speed_max" value="0">
                        <input type="hidden" name="down_speed_min" id="down_speed_min" value="0">
                        <input type="hidden" name="down_bytes" id="down_bytes" value="0">
                        <input type="hidden" name="down_time" id="down_time" value="0">
                        <input type="hidden" name="up_speed" id="up_speed" value="0">
                        <input type="hidden" name="up_speed_max" id="up_speed_max" value="0">
                        <input type="hidden" name="up_speed_min" id="up_speed_min" value="0">
                        <input type="hidden" name="up_bytes" id="up_bytes" value="0">
                        <input type="hidden" name="up_time" id="up_time" value="0">
                        <input type="hidden" name="ping_rtt" id="ping_rtt" value="0">
                        <input type="hidden" name="ping_min" id="ping_min" value="0">
                        <input type="hidden" name="ping_max" id="ping_max" value="0">
                        <input type="hidden" name="ping_time" id="ping_time" value="0">
                        <input type="hidden" name="ping_n" id="ping_n" value="0">
                        <input type="hidden" name="ping_size" id="ping_size" value="0">
                        <input type="hidden" name="jitter" id="jitter" value="0">
                        <input type="hidden" name="jitter_min" id="jitter_min" value="0">
                        <input type="hidden" name="jitter_max" id="jitter_max" value="0">
                        <input type="hidden" name="down_graph" id="down_graph" value="">
                        <input type="hidden" name="up_graph" id="up_graph" value="">
                        <input type="hidden" name="os" id="os" value="Windows 10">
                        <input type="hidden" name="browser" id="browser" value="Chrome 90.0.4430.85">
                        <input type="hidden" name="test_server" value="211.174.55.226">
                        <input type="hidden" name="loc_lat" value="">
                        <input type="hidden" name="loc_lng" value="">
                        <input type="hidden" name="com" id="com" value="80">
                        <input type="hidden" name="com_name" id="com_name" value="LGU+">
                        <input type="hidden" name="svc" id="svc" value="0">
                        <input type="hidden" name="svc_name" id="svc_name" value="">
                        </form>
                    </article>

                    <script type="text/javascript" src="./벤치비 인터넷 속도 측정_files/myip.js.다운로드"></script>
                    <script type="text/javascript" src="./벤치비 인터넷 속도 측정_files/jquery.js.다운로드"></script>
                    <script type="application/javascript" src="./벤치비 인터넷 속도 측정_files/speedtest.js.다운로드"></script>
                    <script type="text/javascript" src="./벤치비 인터넷 속도 측정_files/ua-parser.min.js.다운로드"></script>
										<script type="text/javascript" src="./벤치비 인터넷 속도 측정_files/jquery.cookie.js.다운로드"></script>
                    <script type="text/javascript">
										$.ajaxSetup({
											headers: {
												'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
											}
										});

										//var $sptestbtn    = $('#sptestbtn');


                    var lastDownTarget;

                    var testing = false;
                    var dn_time = 7;
                    var up_time = 7;

                    var mode = 1;
                    var lastAng = -120;

                    var canvas, ctx;	//측정화면
										var canvas2, ctx2;
										var canvas3, ctx3;
										var canvas4, ctx4;	//결과화면
										var canvas5, ctx5;	//측정화면 로딩
										var canvas6, ctx6;	//측정화면 로딩
										var canvas7, ctx7;	//측정화면 btn
										var canvas8, ctx8;	//결과화면 btn

                    var dialCenter = [296, 383];	//측정화면 계기판 중심 좌표
                    var needleCenter = [68, 183];	//측정화면 바늘 중심 좌표
                    var resultDownDialCenter = [218, 150]; 	//결과화면 다운 계기판 중심 좌표
                    var resultUpDialCenter = [218, 272]; 		//결과화면 다운 계기판 중심 좌표
										var resultNeedleCenter = [4, 24];				//결과화면 바늘 중심 좌표
                    var dial = new Image, needle = new Image, down = new Image, up = new Image, btn = new Image;
										var inner_circle = new Image;
										var dial_result = new Image;
										var loader = new Image();
										var loaderbox = new Image();
										var result_needle = new Image;
										var loading_timer;

                    dial.src = $('#dial').attr('src');
                    inner_circle.src = $('#inner_circle').attr('src');
                    needle.src = $('#needle').attr('src');
                    down.src = $('#down').attr('src');
                    up.src = $('#up').attr('src');
                    btn.src = $('#btn').attr('src');
                    dial_result.src = $('#dial_result').attr('src');
                    result_needle.src = $('#result_needle').attr('src');
                    loaderbox.src = $('#loaderbox').attr('src');
                   

                    var obj = {
                    	divide: [1, 10, 100, 1000],		//속도값
                    	start: [-120, -60, 0, 60, 120],	//각도
                    	radius: 190, 									//계기판 반지름
                    	arc_start: 0.832,							//arc 시작점
                    	under_radius: 112,						//진행현황 arc 반지름
                    	under_arc_down : 0.125,				//진행현황 다운로드 시작점
                    	under_arc_up: 0.67,					//진행현황 업로드 시작점
                    	test_status: ["준비중", "핑 측정중", "핑 측정끝", "다운로드 측정중", "다운로드 측정끝", "업로드 측정중", "업로드 측정끝", "리포트 중", "완료"],
											result_radius: 43.5,					//결과화면 계기판 반지름
											color_down: 'rgb(242,89,108)',
											color_up: 'rgb(15,158,223)',
											result_color_down: 'rgb(255,255,255)',
											result_color_up: 'rgb(255,255,255)'
                    }
                    var coordinate = [];
                    //x, y, rect x, rect y, rect width, rect height, color r, color g, color b, font size, font align, rect color r, rect color g, rect color b
                    coordinate["test_status"] = [110, 56, 110, 38, 170, 25, 255, 255, 255, 15, "left", 12, 18, 18];
                    coordinate["ip"] = [340, 56, 340, 38, 170, 25, 255, 255, 255, 15, "left", 12, 18, 18];
                    coordinate["down"] = [110, 152, 70, 122, 80, 40, 255, 255, 255, 38, "center", 0, 1, 2];
                    coordinate["up"] = [239, 152, 199, 122, 80, 40, 255, 255, 255, 38, "center", 0, 1, 2];
                    coordinate["rtt"] = [365, 152, 325, 122, 80, 40, 255, 255, 255, 38, "center", 0, 1, 2];
                    coordinate["jitter"] = [495, 152, 445, 122, 80, 40, 255, 255, 255, 38, "center", 0, 1, 2];

										//눈금
                    coordinate["marking1"] = [352, 339, 352, 319, 14, 25, 255, 255, 255, 25, "left", 30, 47, 62];
                    coordinate["marking2"] = [352, 189, 352, 169, 14, 25, 255, 255, 255, 25, "left", 30, 47, 62];
                    coordinate["marking2_m"] = [367, 189, 367, 169, 15, 25, 255, 255, 255, 17, "left", 30, 47, 62];
                    coordinate["marking3"] = [467, 124, 467, 104, 30, 25, 255, 255, 255, 25, "left", 30, 47, 62];
                    coordinate["marking3_m"] = [497, 124, 497, 104, 15, 25, 255, 255, 255, 17, "left", 30, 47, 62];
                    coordinate["marking4"] = [570, 188, 570, 168, 42, 25, 255, 255, 255, 25, "left", 30, 47, 62];
                    coordinate["marking4_m"] = [613, 188, 613, 168, 15, 25, 255, 255, 255, 17, "left", 30, 47, 62];
                    coordinate["marking5"] = [593, 339, 593, 319, 14, 25, 255, 255, 255, 25, "left", 30, 47, 62];
                    coordinate["marking5_m"] = [608, 339, 608, 319, 15, 25, 255, 255, 255, 17, "left", 30, 47, 62];

										//현재 측정값, 진행률
                    coordinate["inner_status"] = [116, 53, 0, 33, 230, 30, 10, 138, 195, 20, "center", 35, 52, 66];
                    coordinate["inner"] = [115, 145, 0, 58, 230, 100, 242, 89, 108, 98, "center", 35, 52, 66];
                    coordinate["inner_mbps"] = [116, 183, 80, 165, 80, 30, 199, 197, 197, 20, "center", 35, 52, 66];
                    coordinate["inner_progress"] = [116, 213, 100, 196, 40, 20, 51, 76, 107, 11, "center", 35, 52, 66];

										//상품정보
                    coordinate["tit_com"] = [746, 330, 746, 315, 70, 25, 156, 156, 156, 14, "left", 30, 47, 62];
                    coordinate["tit_svc"] = [746, 355, 746, 340, 70, 25, 156, 156, 156, 14, "left", 30, 47, 62];
                    coordinate["val_com"] = [816, 330, 816, 315, 70, 25, 255, 255, 255, 14, "left", 30, 47, 62];
                    coordinate["val_svc"] = [816, 355, 816, 340, 70, 25, 255, 255, 255, 14, "left", 30, 47, 62];

										//결과화면
										var diff = 0;
					coordinate["result_info"] = [191, 57, 191, 36, 385, 23, 255, 255, 255, 15, "left", 35, 52, 66];
					coordinate["result_down"] = [319, 168, 319, 138, 150, 60, 255, 255, 255, 80, "left", 30, 47, 62];
					coordinate["result_up"] = [319, 290, 319, 260, 150, 60, 255, 255, 255, 80, "left", 30, 47, 62];
					coordinate["result_rtt"] = [117, 409, 117, 379, 150, 60, 255, 255, 255, 52, "left", 30, 47, 62];
					coordinate["result_jitter"] = [370, 409, 370, 379, 150, 60, 255, 255, 255, 52, "left", 30, 47, 62];
                    coordinate["result_down_eval"] = [619, 166, 619, 155, 40, 30, 255, 66, 0, 18, "left", 30, 47, 62];
                    coordinate["result_up_eval"] = [619, 292, 619, 281, 40, 30, 10, 138, 195, 18, "left", 30, 47, 62];
                    coordinate["result_rtt_eval"] = [619, 420, 619, 409, 40, 30, 199, 197, 197, 18, "left", 30, 47, 62];

										var btn_x, btn_y, btn_width, btn_height;
										var ip, com, com_name, svc, svc_name;

										ip = "";
										com = "0";
										com_name = "";
										svc = "0";
										svc_name = "";
										select_manually = 0;

										btn_x = 26;
										btn_y = 261;
										btn_width = 168;
										btn_height = 40;
										
								

                    var result = [];
                    result["down"] = "0.00";
                    result["up"] = "0.00";
                    result["rtt"] = "0.00";
                    result["jitter"] = "0.00";
                    result["step"] = 0;
                    result["ip"] = "180.226.14.99";

                    var parser = new UAParser();
                    var uastring = window.navigator.userAgent;
                    parser.setUA(uastring);

                    var result = parser.getResult();
                    $('#os').val(result.os.name+" "+result.os.version);
                    $('#browser').val(result.browser.name+" "+result.browser.version);

                    function showMsg(v) {
                        if (v == 80) {
                            alert("2.5G 이상 상품의 경우 브라우저 성능 문제로 최대 속도까지 측정이 안 될 수 있습니다.");
                        }
                    }
                    
                    function getAngle(gubun, value) {
                    	var idx;
											var value;

                    	if(value < 1) {
                    		idx = 0;
                    	} else if(value >= 1 && value < 10) {
                    		idx = 1;
                    	} else if(value >= 10 && value < 100) {
                    		idx = 2;
                    	} else {
                    		idx = 3;
                    	}
                    	if(gubun == "needle") {
                    		value = obj.start[idx] + (60* (value/obj.divide[idx]));
                    	} else {
                    		value = obj.arc_start[arc] + (obj.arc_gap[gap] * (value/obj.arc_divide[arc]));
                    	}

											value = (value < -120) ? -120:value;
											value = (value > 120) ? 120:value;

											return value;

                    }

                    // 바늘 Arc 그리기
                    function drawArc(value, layer_ctx) {
                    	var x = dialCenter[0]-diff;
                    	var y = dialCenter[1];
                    	var radius = obj.radius;
                    	var startAngle = obj.arc_start * Math.PI;

                    	value = (value < 0) ? (120-Math.abs(value)) : 120+value;
                    	var endAngle = ( ((0.168*value)/30) + obj.arc_start) * Math.PI;
                    	//console.log("value: "+value+", endAngle: "+endAngle);
                    	var counterClockwise = false;

                    	//console.log("value: "+value+", startAngle: "+startAngle+", endAngle: "+endAngle);

                    	layer_ctx.beginPath();
                    	layer_ctx.arc(x, y, radius, startAngle, endAngle, counterClockwise);
                    	layer_ctx.lineWidth = 4;

                    	layer_ctx.globalAlpha = 1;	//transparent
                    	layer_ctx.strokeStyle = 'rgb(227, 0, 0)';
                    	layer_ctx.stroke();
                    	layer_ctx.globalAlpha = 1;
                    }

                    function drawUnderArc(runningTime, layer_ctx) {
											//console.log("runningTime: "+runningTime);
                    	var x = dialCenter[0]-diff;
                    	var y = dialCenter[1];
                    	var radius = obj.under_radius;
                    	var startAngle, endAngle, counterClockwise;
											var progress = 0;

                    	if(result["step"] == 3) {
                    	  runningTime = (runningTime > dn_time*1e3) ? dn_time*1e3: runningTime;
												progress = ((runningTime/(dn_time*1e3))*100).toFixed(0);

                    		startAngle = 0.280 * Math.PI;
                    		endAngle =  ( 0.280 + (0.445/(dn_time*1e3))*runningTime ) * Math.PI;
                    		counterClockwise = false;
                    	} else {
                    	  runningTime = (runningTime > up_time*1e3) ? up_time*1e3: runningTime;
												progress = ((runningTime/(up_time*1e3))*100).toFixed(0);

                    		startAngle = 0.719 * Math.PI;
                    		endAngle =  ( 0.719 - (0.439/(up_time*1e3))*runningTime ) * Math.PI;
                    		counterClockwise = true;
                    	}

                    	layer_ctx.beginPath();
                    	layer_ctx.arc(x, y, radius, startAngle, endAngle, counterClockwise);
                    	layer_ctx.lineWidth = 4;

                    	layer_ctx.globalAlpha = 1;  //transparent
                    	layer_ctx.strokeStyle = 'rgb(10, 171, 195)';
                    	layer_ctx.stroke();
                    	layer_ctx.globalAlpha = 1;

											if(diff > 0) {	//결과화면
												//drawText(progress+"%", "inner_progress", ctx4);
											} else {	//측정화면
												drawText(progress+"%", "inner_progress", ctx3);
											}
                    }

                    // 측정값 표시
                    function drawText(value, gubun, layer_ctx) {

											if(gubun.indexOf("marking") == -1) {
												if(diff == 0) {	//측정화면이면
                    			layer_ctx.fillStyle = 'rgb('+coordinate[gubun][11]+','+coordinate[gubun][12]+','+coordinate[gubun][13]+')';	//이전값 삭제
                    			layer_ctx.fillRect(coordinate[gubun][2], coordinate[gubun][3], coordinate[gubun][4], coordinate[gubun][5]);
												}
											}

											if(gubun.indexOf("inner") > -1) {	//test center	text
												if(diff == 0) {	//측정화면이면
                    			layer_ctx.clearRect(coordinate[gubun][2], coordinate[gubun][3], coordinate[gubun][4], coordinate[gubun][5]);
												}
											}

                    	layer_ctx.font = coordinate[gubun][9]+"px Helvetica";
                    	if(gubun == "test_status") {
                    	  layer_ctx.font = "bold "+coordinate[gubun][9]+"px Helvetica";
                    	}

                    	layer_ctx.textAlign = coordinate[gubun][10];
                    	//layer_ctx.fillStyle = "rgba( "+coordinate[gubun][6]+", "+coordinate[gubun][7]+", "+coordinate[gubun][8]+", 1 )";
											if(gubun == "inner") {
												layer_ctx.fillStyle = "white";
											} else if(gubun == "inner_status") {
												if(value == "다운로드") {
                    			layer_ctx.fillStyle = "rgba( 255, 66, 0, 1 )";
												} else if(value == "업로드") {
                    			layer_ctx.fillStyle = "rgba( 10, 138, 195, 1 )";
												}
											} else {
                    		layer_ctx.fillStyle = "rgba( "+coordinate[gubun][6]+", "+coordinate[gubun][7]+", "+coordinate[gubun][8]+", 1 )";
											}

											if(gubun.indexOf("marking") > -1) {	//test result marking
                    		layer_ctx.fillText(value, coordinate[gubun][0]-diff, coordinate[gubun][1]);
											} else {
												if(diff > 0 && gubun.indexOf("inner") > -1) {	//결화화면 inner
                    			layer_ctx.fillText(value, coordinate[gubun][0]+145, coordinate[gubun][1]+145);
												} else {
                    			layer_ctx.fillText(value, coordinate[gubun][0], coordinate[gubun][1]);
												}
											}
                    }

                    //측정값 표시 형태
                    function dispSpeed(value) {
                    	var v_Mbps = "0.00";
                    	if(value > 0) {
                    		v_Mbps = value/1e6;
                    		if(v_Mbps >= 100) {
                    		  v_Mbps = v_Mbps.toFixed(0);
                    		} else if(v_Mbps >= 10) {
                    		  v_Mbps = v_Mbps.toFixed(1);
                    		} else {
                    		  v_Mbps = v_Mbps.toFixed(2);
                    		}
                    	}
                    	return v_Mbps;
                    }

                    function dispRtt(value) {
                    	var v_ms = "0.00";
                    	if(value > 0) {
                    		 v_ms = (value/1e3)*1e3;
                    	  if(v_ms >= 100) {
                    	    v_ms = v_ms.toFixed(0);
                    	  } else if(v_ms >= 10) {
                    	    v_ms = v_ms.toFixed(1);
                    	  } else {
                    	    v_ms = v_ms.toFixed(2);
                    	  }
                    	}
                    	return v_ms;
                    }
                    function drawTextAll(layer_ctx) {
                    	//console.log("result[step]: "+result["step"]);
                    	result["down"] = (result["down"] === undefined) ? "0.00":result["down"];
                    	result["up"] = (result["up"] === undefined) ? "0.00":result["up"];
                    	result["rtt"] = (result["rtt"] === undefined) ? "0.00":result["rtt"];
                    	result["jitter"] = (result["jitter"] === undefined) ? "0.00":result["jitter"];
                    	result["ip"] = (result["ip"] === undefined) ? "180.226.14.99" : "180.226.14.99";

                      drawText(dispSpeed(result["down"]), "down", layer_ctx);
                      drawText(dispSpeed(result["up"]), "up", layer_ctx);
                    	drawText(dispRtt(result["rtt"]), "rtt", layer_ctx);
                    	drawText(dispRtt(result["jitter"]), "jitter", layer_ctx);
                    	drawText(obj.test_status[result["step"]], "test_status", layer_ctx);
											if(svc_name.length > 0) {
                    		drawText(result["ip"]+" / "+com_name+" / "+svc_name, "ip", layer_ctx);
											} else {
                    		drawText(result["ip"]+" / "+com_name, "ip", layer_ctx);
											}
                    }

                    // 바늘 회전
                    function drawNeedle(value, layer_ctx, layer) {

                    	lastAng = value;

                    	layer_ctx.save();
                    	layer_ctx.clearRect( 0, 0, layer.width, layer.height );
                    	// Center the dial on the canvas.
                    	layer_ctx.translate( dialCenter[0]-diff , dialCenter[1]);	//측정스킨 계기판의 중심 좌표로 이동
                    	layer_ctx.drawImage( dial, -dialCenter[0]+diff, -dialCenter[1] );
                    	// Center the needle on the canvas.
                    	layer_ctx.rotate(value * Math.PI/180);	//회전각도(각도로 바꾸려면 Math.PI/180 곱한다)
                    	layer_ctx.drawImage( needle, -needleCenter[0], -needleCenter[1] );
                    	layer_ctx.restore();

                     	drawText(dispSpeed(result["down"]), "down", layer_ctx);
                     	drawText(dispSpeed(result["up"]), "up", layer_ctx);
                    	drawText(dispRtt(result["rtt"]), "rtt", layer_ctx);
                    	drawText(dispRtt(result["jitter"]), "jitter", layer_ctx);
                    	drawText(obj.test_status[result["step"]], "test_status", layer_ctx);
                    	drawText(result["ip"]+" / "+com_name+" / "+svc_name, "ip", layer_ctx);
                    }

                    // 속도,바늘 표시
                    function draw(value, gubun, layer_ctx, layer) {

                    	result[gubun] = value;
                    	if(gubun == "down") {
                    		down.src = $('#down_atv').attr('src');
                    		up.src = $('#up').attr('src');
                    	} else if(gubun == "up") {
                    		down.src = $('#down').attr('src');
                    		up.src = $('#up_atv').attr('src');
                    	} else if(gubun == "rtt") {
                    	  down.src = $('#down').attr('src');
                    		up.src = $('#up').attr('src');
                    	} else {
                    		result["step"] = 0;
                    	}
                     	v_Ang = getAngle("needle", value/1e6);
                      //v_Mbps = (v_Mbps < 10) ? v_Mbps.toFixed(2) : v_Mbps.toFixed(1);
                    	//console.log("v_Kbps: "+v_Kbps+", v_Ang: "+v_Ang+", v_Mbps: "+v_Mbps);
                    	//console.log("down: "+result["down"]+", up: "+result["up"]+", rtt: "+result["rtt"]);

                    	//v_Ang = (v_Ang < -120) ? -120:v_Ang;
                      //v_Ang = (v_Ang > 120) ? 120:v_Ang;

                     	drawNeedle(v_Ang, layer_ctx, layer);
                      drawTextAll(layer_ctx);
                    	drawArc(v_Ang, layer_ctx);
                    }

										function drawResultNeedle(value, x_val, y_val, ord, layer_ctx) {
											var arcColor = (ord == 1) ? obj.result_color_down: obj.result_color_up;

											//drawNeedle
											layer_ctx.save();
											// Center the dial on the canvas.
											layer_ctx.translate(x_val, y_val);	//측정스킨 계기판의 중심 좌표로 이동
											// Center the needle on the canvas.
											layer_ctx.rotate(value * Math.PI/180 - 0.1);	//회전각도(각도로 바꾸려면 Math.PI/180 곱한다)
											layer_ctx.drawImage( result_needle, -resultNeedleCenter[0], -resultNeedleCenter[1] );

											layer_ctx.fillStyle = arcColor;
											layer_ctx.beginPath();
											layer_ctx.arc(3,-43,5,0, 2 * Math.PI, false);
											layer_ctx.fill();

											layer_ctx.restore();
										}

										function drawResultArc(value, x_val, y_val, ord, layer_ctx, gap) {

											var radius = obj.result_radius;
											var startAngle = obj.arc_start * Math.PI;
											var arcColor = (ord == 1) ? obj.result_color_down: obj.result_color_up;

											value = (value < 0) ? (120-Math.abs(value)) : 120+value;
											var endAngle = ( ((gap*value)/30) + obj.arc_start) * Math.PI;
										 	//console.log("value: "+value+",startAngle: "+startAngle+", endAngle: "+endAngle);
											var counterClockwise = false;
             					//console.log("value: "+value+", startAngle: "+startAngle+", endAngle: "+endAngle);

											//console.log(x_val+", "+y_val);
                			layer_ctx.beginPath();
										 	layer_ctx.arc(x_val, y_val, radius, startAngle, endAngle, counterClockwise);
											layer_ctx.lineWidth = 6;
   										layer_ctx.globalAlpha = 1;	//transparent
										 	layer_ctx.strokeStyle = arcColor;
											layer_ctx.stroke();
										}

										function getResultGap(value) {
											var gap = [0.152, 0.162, 0.162, 0.167];
											if(value <= 1000000) {
												return gap[0];
											} else if(value <= 10000000) {
												return gap[1];
											} else if(value <= 100000000) {
												return gap[2];
											} else {
												return gap[3];
											}
										}

                    function getResultAngle(gubun, value) {
											var dvd = 250;
											//svc_name = "100M";
											if(svc_name.indexOf("500") > -1) {
												dvd = 125;
											} else if(svc_name.indexOf("100") > -1) {
												dvd = 25;
											}
                    	value = obj.start[0] + (60* (value/dvd));

											value = (value < -120) ? -120:value;
											value = (value > 120) ? 120:value;

											return value;

                    }

										function drawResult(value, gubun) {

											//value = 1000000;	//1M	//0.152
											//value = 10000000;	//10M	//0.162
											//value = 100000000;	//100M	//0.162
											//value = 1000000000;	//1G	//0.167
											//result["down"] = 1000000;	//10M
											//result["up"] = 1000000000;	//100M

											//result["down"] = 125000000;
											//value = result["down"]/1e6;
											//value = obj.start[0] + (60* (value/250));
											//value = obj.start[0] + (60* (value/125));
											//value = (value < -120) ? -120:value;
											//value = (value > 120) ? 120:value;
											var down = getResultAngle("needle", result["down"]/1e6);
											var up = getResultAngle("needle", result["up"]/1e6);
											var down_gap = getResultGap(result["down"]);
											var up_gap = getResultGap(result["up"]);
											
											//console.log("v_Ang: "+v_Ang);

											//drawNeedle
											drawResultNeedle(down, resultDownDialCenter[0], resultDownDialCenter[1], 1, ctx4);	//down 
											drawResultNeedle(up, resultUpDialCenter[0], resultUpDialCenter[1], 2, ctx4);				//up
											//drawArc
											drawResultArc(down, resultDownDialCenter[0], resultDownDialCenter[1], 1, ctx4, down_gap);	//down 
											drawResultArc(up, resultUpDialCenter[0], resultUpDialCenter[1], 2, ctx4, up_gap);				//up

											diff = 229;
											if(svc_name.length > 0) {
											    drawText("180.226.14.99 / " + com_name + " / " + svc_name, "result_info", ctx4);
											} else {
											drawText("180.226.14.99 / " + com_name, "result_info", ctx4);
											}
                     	drawText(dispSpeed($('#down_speed').val()), "result_down", ctx4);
                     	drawText(dispSpeed($('#up_speed').val()), "result_up", ctx4);
                     	drawText(dispRtt($('#ping_rtt').val()), "result_rtt", ctx4);
                     	drawText(dispRtt($('#jitter').val()), "result_jitter", ctx4);

											btn_x = 0;///212;
											btn_y = 0; //0;//532;

											btn.src = $('#btn').attr('src');
											ctx8.drawImage(btn, btn_x, btn_y);

											btnEventListener(ctx8, canvas8);
											
											btnEventListenerFeedback(ctx9, canvas9)
										}
										function clickFeedback(e) {
										    location.href="/feedback/";
										}

                    function clickReporter(e) {
											if(result["step"] == 7) {
													return;
											}
                    	// adjust mouse click position to be relative to canvas:
                      var rect = this.getBoundingClientRect(),
                    	x = e.clientX - rect.left,
                    	y = e.clientY - rect.top;
                     	// check x/y coordinate against the image position and dimension
                      if (x >= btn_x && x <= (btn_x + btn.width) &&
                     		y >= btn_y && y <= (btn_y + btn.height)) {
                     		if(!testing) {
													Start();
                    		} else {
                    	    //var my_ret;
                        	//my_ret = confirm("측정을 중지하시겠습니까?");
                    		  //if(my_ret) {
                      			speedTestStop();
                      		//}
                    		}
                    	}
                    }

                    function startTest() {
                    	result["down"] = result["up"] = result["rtt"] = result["jitter"] = result["step"] = 0;
                    	drawTextAll(ctx);

                        settings.time_dn = dn_time;
                        settings.time_up = up_time;

							
						settings.url_dn_ws = "ws://211.174.55.226:8050/";
						settings.url_dn = "http://211.174.55.226:8090/download?size=25000000";
						settings.url_up = "http://211.174.55.226:8090/upload";
						settings.url_ping = "ws://211.174.55.226:8070/";
						settings.url_up_ws = "ws://211.174.55.226:8060/";
						
						mode = 2;						


                    	speedTest(function(str, arg1, arg2) { // status, value, escape_time_ms
                    	    // str :  ping, ping_end, down, down_end, up, up_end, complete
                    	    // value : ping -> delay(ms)
                    	    //         down -> Bps
                    	    //         up -> Bps
                    	    //console.log('Callback Status:' + str + '  arg1:' + arg1 + '   arg2:' + arg2);
                    	    if (str == "ping") {
                    	        //준비중 메세지 제거
                    	        clearInterval(loading_timer);
                    	        ctx5.clearRect(0, 0, canvas5.width, canvas5.height);
                    	        ctx6.clearRect(0, 0, canvas6.width, canvas6.height);

                    	        testing = true;
                    	        btn.src = $('#btn_stop').attr('src');
                    	        btn_x = 10; //26;
                    	        btn_y = 10; //261;
                    	        //ctx2.clearRect(btn_x, btn_y, btn_width, btn_height);
                    	        //ctx2.drawImage(btn, btn_x, btn_y);
                    	        ctx7.clearRect(btn_x, btn_y, btn_width, btn_height);
                    	        ctx7.drawImage(btn, btn_x, btn_y);
                    	        result["step"] = 1;
                    	        result["rtt"] = arg1;
                    	        result["rtt"] = (result["rtt"] === undefined) ? "0.00" : result["rtt"];
                    	        drawText(dispRtt(result["rtt"]), "rtt", ctx);
                    	        drawText(obj.test_status[result["step"]], "test_status", ctx);
                    	    } else if (str == 'ping_end') {
                    	        $('#teststatus').attr('alt', '인터넷 속도측정 중입니다. 잠시만 기다려 주십시오.');
                    	        $('#teststatus').click();

                    	        result["step"] = 2;
                    	        result["rtt"] = arg1;
                    	        result["rtt"] = (result["rtt"] === undefined) ? "0.00" : result["rtt"];
                    	        drawText(dispRtt(result["rtt"]), "rtt", ctx);

                    	        result["jitter"] = results.ping.jitter; //(results.ping.jitter === undefined) ? "0.00":result["jitter"];
                    	        drawText(dispRtt(result["jitter"]), "jitter", ctx);

                    	        drawText(obj.test_status[result["step"]], "test_status", ctx);
                    	        //console.log('Ping END Status:' + str + '  arg1:' + arg1 + '   arg2:' + arg2);

                    	        //setTimeout(function() { downTestW(callback, false); }, 1000); // 1초 후 DL 측정. false => Do not call upTestW();

                    	    } else if (str == "down") {
                    	        result["step"] = 3;
                    	        draw(arg1, "down", ctx, canvas);
                    	        drawText("다운로드", "inner_status", ctx3);
                    	        drawText("Mbps", "inner_mbps", ctx3);
                    	        drawText(dispSpeed(arg1), "inner", ctx3);
                    	        drawUnderArc(arg2, ctx);
                    	    } else if (str == 'down_end') {
                    	        result["step"] = 4;
                    	        draw(arg1, "down", ctx, canvas);
                    	        drawText(dispSpeed(arg1), "inner", ctx3);
                    	        //drawUnderArc(arg2);	//원래 주석처리 되어있었음
                    	        //console.log('Download END Status:' + str + '  arg1:' + arg1 + '   arg2:' + arg2);

                    	        //setTimeout(function() { upTestW(callback, true); }, 1000); // 1초 후 UL 측정. true => callback complete

                    	    } else if (str == "up") {
                    	        result["step"] = 5;
                    	        draw(arg1, "up", ctx, canvas);
                    	        drawText("업로드", "inner_status", ctx3);
                    	        drawText(dispSpeed(arg1), "inner", ctx3);
                    	        drawUnderArc(arg2, ctx);
                    	    } else if (str == 'up_end') {
                    	        result["step"] = 6;
                    	        draw(arg1, "up", ctx, canvas);
                    	        drawText(dispSpeed(arg1), "inner", ctx3);
                    	        drawUnderArc(arg2, ctx);
                    	        //console.log('Upload END Status:' + str + '  arg1:' + arg1 + '   arg2:' + arg2);
                    	    } else if (str == 'intest') {
                    	        testing = true;
                    	    } else if (str == 'stop') {
                    	        $('#teststatus').attr('alt', '인터넷 속도측정이 중지되었습니다.');
                    	        $('#teststatus').click();

                    	        testing = false;
                    	        btn.src = $('#btn').attr('src');
                    	        //ctx3.clearRect(btn_x, btn_y, btn_width, btn_height);
                    	        //ctx3.drawImage(btn, btn_x, btn_y);
                    	        ctx7.clearRect(btn_x, btn_y, btn_width, btn_height);
                    	        ctx7.drawImage(btn, btn_x, btn_y);
                    	    } else if (str == 'complete') {
                    	        //console.log('Complte Status:' + str + '  arg1:' + arg1 + '   arg2:' + arg2);
                    	        //console.log(results);
                    	        $('#down_speed').val(parseInt(results.dn.avg));
                    	        $('#down_speed_max').val(parseInt(results.dn.max));
                    	        $('#down_speed_min').val(parseInt(results.dn.min));
                    	        $('#down_bytes').val(results.dn.bytes);
                    	        $('#down_time').val(results.dn.time);
                    	        $('#up_speed').val(parseInt(results.up.avg));
                    	        $('#up_speed_max').val(parseInt(results.up.max));
                    	        $('#up_speed_min').val(parseInt(results.up.min));
                    	        $('#up_bytes').val(results.up.bytes);
                    	        $('#up_time').val(results.up.time);
                    	        $('#ping_rtt').val(results.ping.avg);

                    	        $('#ping_min').val(results.ping.min);
                    	        $('#ping_max').val(results.ping.max);
                    	        $('#ping_time').val(results.ping.time);
                    	        $('#ping_n').val(results.ping.n);
                    	        $('#ping_size').val(results.ping.size);

                    	        $('#jitter').val(results.ping.jitter);

                    	        $('#down_graph').val(results.dn.graph);
                    	        $('#up_graph').val(results.up.graph);

                    	        saveResult();
                    	    }
                    	}, mode);
                    }

										function loadingMsg(msg) {
												ctx6.clearRect(0, 0, canvas6.width, canvas6.height);
												ctx6.beginPath();
												//ctx6.fillStyle = 'rgba(32, 55, 66, 0.7)';
												ctx6.fillStyle = 'rgba(0, 0, 0, 0.7)';
												ctx6.fillRect(0, 0, canvas6.width, canvas6.height);
												ctx6.fill();
												ctx6.drawImage(loaderbox, 121, 235);
												ctx6.fillStyle = "white";
												ctx6.font = "26px Helvetica";
												ctx6.fillText(msg, 230, 310);

												var ang = 0; //angle
												var fps = 1000 / 25; //1000 / 35; //number of frames per sec
												loader.onload = function () { 
													canvas5.width = this.width << 1; 
												 	canvas5.height = this.height << 1; 
												  var cache = this; 
												 	loading_timer = setInterval(function () {
														ctx5.save(); 
													  ctx5.clearRect(0, 0, canvas5.width, canvas5.height); 
														ctx5.translate(cache.width, cache.height); 
														ctx5.rotate(Math.PI / 180 * (ang += 5));   
														ctx5.drawImage(loader, -cache.width / 2, -cache.height / 2, cache.width, cache.height); 
													 	ctx5.restore(); 
													}, fps);
												};
												loader.src = $('#loader').attr('src');
										}

                    function saveResult() {
                    		//console.log("saveResult");
												ctx7.clearRect(0, 0, canvas7.width, canvas7.height);

                    		result["step"] = 7;
                    		drawText(obj.test_status[result["step"]], "test_status", ctx);

												loadingMsg("리포트 중입니다.");
											
                    		$.ajax({
                          url:'/save/report_speed.asp',
                          type:'post',
                          data:$('#rptform').serialize(),
                          success:function(data){
                            //console.log(data);
                            endTest();
                          },
                          error:function(xhr) {
                      	  	//alert('결과 저장 오류 ('+xhr.status+' '+ xhr.statusText+')');
                      	  	endTest();
                      		}
                        })

                    }

                    function endTest() {
												//retest = 1;
                    		up.src = $('#up').attr('src');

                    		//progress bar, needle
												/*
                    		var id = setInterval(toZero, 1);
                    		var i = lastAng;
                    		function toZero() {
                    			if(i < -121) {
                    		   	clearInterval(id);
                    			} else {
                    		 		drawNeedle(i, ctx, canvas);
                    		  	drawTextAll(ctx);
                    		  	i=i-2;
                    			}
                    		}
												*/

                    		testing = false;
                    		btn.src = $('#btn').attr('src');
												ctx2.clearRect(btn_x, btn_y, btn_width, btn_height);
                    		ctx2.drawImage(btn, btn_x, btn_y);

                    		result["step"] = 8;
                    		drawText(obj.test_status[result["step"]], "test_status", ctx);

                    		
                    		$('#teststatus').attr('alt', '인터넷 속도측정이 완료되었습니다. 다운로드 속도 ' + dispSpeed(result["down"]) + ' 메가비트퍼세크, 업로드 속도 ' + dispSpeed(result["up"]) + ' 메가비트퍼세크, 지연시간 ' + dispRtt(result["rtt"]) + ' 밀리세컨드. 다시 측정하시려면 엔터하여 주십시오.');
                    		$('#teststatus').click();
                    		$('#teststatus').focus();
                    		

                    		
                    		
                    		
                    		


												/*
												$('#beforetest').hide();
												$('#starttest').hide();
												$('#endtest').show();
												$('#feedback').show();
												*/
												clearInterval(loading_timer);
												$('#beforetest').hide();
												$('#starttest').fadeOut(100, function() {
														$('#endtest').fadeIn(100);
														$('#feedback').fadeIn(100);
													});


												if($('span').hasClass("testend")) {
													//clearInterval(loading_timer);
													$('.teststart').hide();
													$('.testend').show();
												}

												drawResult($('#down_speed').val(), "");
                    }

                    function getMousePos(canvas, evt) {
                    	var rect = canvas.getBoundingClientRect();
                      return {
                      	x: evt.clientX - rect.left,
                    	  y: evt.clientY - rect.top
                    	};
                    }

										function drawMarking(max_speed, layer_ctx)
										{
                    	drawText("0", "marking1", layer_ctx);
                    	drawText("1", "marking2", layer_ctx);
                    	drawText("M", "marking2_m", layer_ctx);
                    	drawText("10", "marking3", layer_ctx);
                    	drawText("M", "marking3_m", layer_ctx);
                    	drawText("100", "marking4", layer_ctx);
                    	drawText("M", "marking4_m", layer_ctx);
                    	drawText("1", "marking5", layer_ctx);
                    	drawText("G", "marking5_m", layer_ctx);
										}

										function btnEventListener(layer_ctx, layer) {
							
                    		layer.addEventListener('click', clickReporter, false);
                    		layer.addEventListener('mousemove', function(evt) {
												//console.log("btn_x: "+btn_x+", btn_y: "+btn_y);
													if(result["step"] == 7) {
                    				$('canvas').css('cursor','default');
														return;
													}
                      	var mousePos = getMousePos(layer, evt);
                    		if (mousePos.x >= btn_x && mousePos.x <= (btn_x + btn_width) && mousePos.y >= btn_y && mousePos.y <= (btn_y + btn_height)) {
                    	  	var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;
													//console.log("pointer - "+message);
                    			$('canvas').css('cursor','pointer');
													if(testing) {
														btn.src = $('#btn_stop_on').attr('src');
													} else {
														btn.src = $('#btn_on').attr('src');
													}
                    		} else {
                    			$('canvas').css('cursor','default');
													if(testing) {
														btn.src = $('#btn_stop').attr('src');
													} else {
														btn.src = $('#btn').attr('src');
													}
                    		}
												layer_ctx.clearRect(btn_x, btn_y, btn_width, btn_height);
												layer_ctx.drawImage(btn, btn_x, btn_y);
                    	}, false);
										}
										
										function btnEventListenerFeedback(layer_ctx, layer) {

										    layer.addEventListener('click', clickFeedback, false);
                    		layer.addEventListener('mousemove', function(evt) {
												//console.log("btn_x: "+btn_x+", btn_y: "+btn_y);
													
                    				$('canvas').css('cursor','default');
													
													
                      	var mousePos = getMousePos(layer, evt);
                    		if (mousePos.x >= btn_x && mousePos.x <= (btn_x + btn_width) && mousePos.y >= btn_y && mousePos.y <= (btn_y + btn_height)) {
                    	  	var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;
											//console.log("pointer - "+message);
                    			$('canvas').css('cursor','pointer');
													
                    		} else {
                    			$('canvas').css('cursor','default');
													
                    		}
											
                    	}, false);
										}

                    function drawInit() {
                      canvas = document.getElementById("canvas");
                      canvas2 = document.getElementById("canvas2");
                      canvas3 = document.getElementById("canvas3");
                      canvas4 = document.getElementById("canvas4");
                      canvas5 = document.getElementById("canvas5");
                      canvas6 = document.getElementById("canvas6");
                      canvas7 = document.getElementById("canvas7");
                      canvas8 = document.getElementById("canvas8");
                      canvas9 = document.getElementById("canvas9");

                     	ctx2 = canvas2.getContext("2d");
                    	ctx2.drawImage(inner_circle, 0, 0);
                     	ctx3 = canvas3.getContext("2d");
                     	ctx4 = canvas4.getContext("2d");
                     	ctx5 = canvas5.getContext("2d");
                     	ctx6 = canvas6.getContext("2d");
                     	ctx7 = canvas7.getContext("2d");
                     	ctx8 = canvas8.getContext("2d");
                     	ctx9 = canvas9.getContext("2d");

                     	ctx = canvas.getContext("2d");
											drawMarking(1000, ctx);
                    	ctx.drawImage(dial, 0, 0);
                    	ctx4.drawImage(dial_result, 0, 0);
                    	draw(0, "", ctx, canvas);
                    	$("#help").show();

											//btnEventListener(ctx2, canvas2);
											btnEventListener(ctx7, canvas7);
                    }

                    function handleKeyMouse() {
                    	if(!testing) {
                    		$('body').keydown(function(event) {
                    			if(event.keyCode === 0) {
                    				event.preventDefault();
                    			}
                    		});
                    		startTest();
                    	} else {
                    		//var my_ret;
                    	  //my_ret = confirm("측정을 중지하시겠습니까?");
                    	 	//if(my_ret) {
                    			speedTestStop();
                    		//}
                    	}
                    }


										function Start() {

											if($('span').hasClass("testend")) {
												$('.teststart').show();
											  $('.testend').hide();
											}

											loadingMsg("준비중입니다.");

											if(typeof svc === "undefined" || typeof svc_name === "undefined") {
													svc = "0";
													svc_name = "";
											}

											//if(com == "0" || typeof com === "undefined" || com_name == "" || typeof com_name === "undefined" || svc == "0" || typeof svc === "undefined" || svc_name == "" || typeof svc_name === "undefined") {
											if(com == "0" || typeof com === "undefined" || com_name == "" || typeof com_name === "undefined") {

													return;
											}

											if(diff > 0) {
												diff = 0;
												btn_x = 26;
												btn_y = 261;
												ctx.clearRect( 0, 0, canvas.width, canvas.height);
												ctx2.clearRect( 0, 0, canvas2.width, canvas2.height);
												ctx3.clearRect( 0, 0, canvas3.width, canvas3.height);
												ctx4.clearRect( 0, 0, canvas4.width, canvas4.height);
												ctx5.clearRect( 0, 0, canvas5.width, canvas5.height);
												ctx6.clearRect( 0, 0, canvas6.width, canvas6.height);
												drawInit();

												$('#beforetest').hide();
												$('#endtest').fadeOut(100, function() {
													$('#feedback').fadeOut(100);
													$('#starttest').fadeIn(100);
												});
											}

											$('#endtest').hide();
											$('#feedback').hide();
											$('#beforetest').fadeOut(100, function() {
												$('#starttest').fadeIn(100);
											});

											startTest();
							}


							window.onload = function() {

							    drawInit();
							    btn.src = $('#btn').attr('src');
							    ctx2.clearRect(btn_x, btn_y, btn_width, btn_height);
							    ctx2.drawImage(btn, btn_x, btn_y);

							    $('#endtest').hide();
							    $('#feedback').hide();
							    $('#starttest').hide();
							    $('#beforetest').show();

							    /*
							    $('#endtest').show();
							    $('#feedback').show();
							    $('#starttest').hide();
							    $('#beforetest').hide();
							    */

							    document.addEventListener('keydown', function(event) {
							        lastDownTarget = event.target;
							        if (lastDownTarget == canvas && event.keyCode == 13) {
							            if (!testing) {
							                handleKeyMouse();
							            }
							        }
							        if (testing && event.keyCode == 9) {
							            event.preventDefault();
							        }
							    }, false);

							    //drawResult(72800000, "");
							    //draw(0, "", ctx4, canvas4);
							    //drawResultArc(100000000,218,183,1,ctx4);
							    //drawResult(72800000, "");

							    com = $('#com').val();
							    com_name = $('#com_name').val();
							    svc = $('#svc').val();
							    svc_name = $('#svc_name').val();

							    if (svc == "0" || svc_name == "") {
							        ip = $.cookie('ip');
							        if (ip == "180.226.14.99") {
							            svc = $.cookie('svc');
							            svc_name = $.cookie('svc_name');
							            if (typeof svc !== "undefined" && typeof svc_name !== "undefined") {
							                $('#svc').val(svc);
							                $('#svc_name').val(svc_name);
							            }
							        }
							    }
							    $(".service").removeClass('seltprdt_box_02').addClass('seltprdt_box');
							    $('#' + svc).removeClass('seltprdt_box').addClass('seltprdt_box_02');

							    //cookie값이 없으면 ip 로 isp 체크
							    if (com == "0" || com == "27" || typeof com === "undefined" || com_name == "" || com_name == "모름" || typeof com_name === "undefined") {
							        //console.log("/company");
							        $.ajax({
							            type: "post",
							            url: "/company",
							            cache: false,
							            success: function(data) {
							                //console.log(data);	
							                if (data) {
							                    if (data.length > 0 && data.indexOf("|") != -1 && select_manually == 0) {
							                        var data_arr = data.split("|");
							                        if (data_arr[0] != "kr") {
							                            $('#isp_name').text("해외");
							                        }
							                        $('#' + data_arr[1]).click();
							                        $('#isp_name').text(data_arr[2]);
							                    }
							                } else {
							                    $('#27').click();
							                    $('#isp_name').text("모름");
							                }
							            },
							            error: function(xhr, ajaxOptions, thrownError) {
							                alert(xhr.status + "(" + thrownError + ")");
							            }
							        });
							    }

							    //상품속도 선택
							    $(".service").click(function() {
							        //console.log($(this).attr('id'));
							        svc = $(this).attr('id');
							        svc_name = $('#name_' + svc).text();
							        $('#svc').val(svc);
							        $('#svc_name').val(svc_name);
							        $.cookie('ip', "180.226.14.99", { expires: 360, path: '/' });
							        $.cookie('svc', svc, { expires: 360, path: '/' });
							        $.cookie('svc_name', svc_name, { expires: 360, path: '/' });
							        $(".service").removeClass('seltprdt_box_02').addClass('seltprdt_box');
							        $('#' + svc).removeClass('seltprdt_box').addClass('seltprdt_box_02');
							    });



							}
							var f = 0;
							$('#teststatus').focus(function() {
							    //console.log("[1-]focused : " + result["step"]);
							    f = 1;
							});

							$('body').keydown(function(event) {
							    if (testing == false && result["step"] == 8 && event.keyCode == '13') {
							        //alert("restart");
							        //console.log("[2-]"+$('#teststatus').is(':focus'));
							        Start();
							        f = 0;
							    }
							    //if (result["step"] = 8) {
							    //    alert('restart');
							    //}
							});     //.focus && onKeyPress = "if(event.keyCode=='13') { Start(); }"
							//var $focused = $(':focus');
							//console.log($focused);

                    </script>
            		<!-- 하단 배너_광고없을시 삭제해도 무방 -->

    			</div>
            </div>
        </section>
    </div>
    <footer class="bottom_nav">
    		<div class="bt_line"></div>
            <div class="bttm_wrap">
            <div class="bttm_contet_content">
                <div class="adress_wrap">
                    <div class="bn_bttmlogo">
                        <img src="./벤치비 인터넷 속도 측정_files/bottom_logo.png" width="193" height="22" alt="">
                    </div>
                    <span class="bttm_addtxt bn_adress">
                       정은아파트 정은이동 1972호
                    </span>
                    <span class="bttm_addtxt copyright">
                        Copyright ⓒ 2020 by 하선TV Co., LTD. ALL RIGHT RESERVED.
                    </span>
                </div>
            </div>
        </div>
    </footer>


<iframe frameborder="0" scrolling="no" style="background-color: transparent; border: 0px; display: none;" src="./벤치비 인터넷 속도 측정_files/saved_resource.html"></iframe><div id="GOOGLE_INPUT_CHEXT_FLAG" input="" input_stat="{&quot;tlang&quot;:true,&quot;tsbc&quot;:true,&quot;pun&quot;:true,&quot;mk&quot;:true,&quot;ss&quot;:true}" style="display: none;"></div></body></html>